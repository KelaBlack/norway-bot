
üìò –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ Telegram-–±–æ—Ç—É –Ω–∞ Python

===============================
‚úÖ async def ‚Äî –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.
–ù—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –æ—Ç–≤–µ—á–∞—Ç—å –±–µ–∑ "–∑–∞–≤–∏—Å–∞–Ω–∏—è".

–ü—Ä–∏–º–µ—Ä:
async def hello(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("–ü—Ä–∏–≤–µ—Ç!")

===============================
‚úÖ update ‚Äî –æ–±—ä–µ–∫—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ü—Ä–∏–º–µ—Ä:
update.message.text ‚Äî —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

‚úÖ context ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
–ü—Ä–∏–º–µ—Ä:
context.user_data["choice"] = "–¶–µ–Ω—ã –Ω–∞ –±–∏–ª–µ—Ç—ã"

===============================
‚úÖ –ö–Ω–æ–ø–∫–∏ –≤ Telegram:
from telegram import ReplyKeyboardMarkup

keyboard = [["–ö–Ω–æ–ø–∫–∞ 1"], ["–ö–Ω–æ–ø–∫–∞ 2"]]
reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)
await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:", reply_markup=reply_markup)

===============================
‚úÖ –ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
prices = {
  "–ú–æ—Å–∫–≤–∞": {
    "–ë–∞—Ä–≤–∏—Ö–∞": "–í—Ö–æ–¥ 500‚ÇΩ",
    "–ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫": "600‚ÇΩ"
  },
  "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥": {
    "–ú–µ–≥–∞": "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
    "–û–∫—É–Ω–µ–≤–∞—è": "300‚ÇΩ"
  }
}

schedule = {
  "–ú–æ—Å–∫–≤–∞": {
    "–ë–∞—Ä–≤–∏—Ö–∞": "10:00‚Äì20:00",
    "–ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫": "9:00‚Äì22:00"
  }
}

===============================
‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—ã–±–æ—Ä—É:
choice = context.user_data.get("choice")
city = context.user_data.get("city")
park = update.message.text

if choice == "–¶–µ–Ω—ã –Ω–∞ –±–∏–ª–µ—Ç—ã":
    response = prices.get(city, {}).get(park, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç")
elif choice == "–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∫–∞":
    response = schedule.get(city, {}).get(park, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç")

await update.message.reply_text(response)

===============================
‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥":
–°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ–Ω—é:
context.user_data["last_menu"] = "main"

–í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–∑–∞–¥:
await menus["main"](update, context)

===============================
‚úÖ –°–ª–æ–≤–∞—Ä—å menus (–Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º):
menus = {
    "main": main_menu,
    "choose_city": choose_city,
    "moscow": moscow_locations,
    "spb": spb_locations
}

===============================
üî• –í—Å—ë –ø—Ä–æ—Å—Ç–æ: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä -> –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é -> –≤—ã–¥–∞—ë–º –æ—Ç–≤–µ—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ!
