from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ContextTypes, MessageHandler, filters
import re

# üîπ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ FAQ
faq_categories = {
    "–í–æ–ø—Ä–æ—Å—ã –æ —Ä–∞–±–æ—Ç–µ –ø–∞—Ä–∫–æ–≤": [
        "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –±–∏–ª–µ—Ç?",
        "–ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∫–∞?",
        "–ù—É–∂–Ω–æ –ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è?",
        "–†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –ø–∞—Ä–∫–∏ –≤ –¥–æ–∂–¥—å? –£—Å–ª–æ–≤–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è"
    ],
    "–û–ø–ª–∞—Ç–∞, –ø–æ–∫—É–ø–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –±–∏–ª–µ—Ç–æ–≤": [
        "–ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞—Ç—É –ø–æ—Å–µ—â–µ–Ω–∏—è?",
        "–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å –±–∏–ª–µ—Ç?",
        "–ù–∞–¥–æ –ª–∏ –ø–æ–∫—É–ø–∞—Ç—å –±–∏–ª–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–º—É, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–¥–µ—Ç –Ω–∞ —Ç—Ä–∞—Å—Å—É?",
        "–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –≤ –ø–∞—Ä–∫–µ?"
    ],
    "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä–∫–æ–≤": [
        "–ú–æ–∂–µ—Ç –ª–∏ –ø–æ–¥—Ä–æ—Å—Ç–æ–∫ –ø—Ä–∏–π—Ç–∏ –≤ –ø–∞—Ä–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ?",
        "–ú–æ–∂–Ω–æ –ª–∏ –≤ –ø–∞—Ä–∫ —Å —Å–æ–±–∞–∫–æ–π?",
        "–ö—Ç–æ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Ç—Ä–∞—Å—Å—ã?",
        "–ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤–µ—Å—É?",
        "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–¥–µ—Ç—å—Å—è –≤ –≤–µ—Ä–µ–≤–æ—á–Ω—ã–π –ø–∞—Ä–∫?"
    ],
    "–¢—Ä–∞—Å—Å—ã –ø–∞—Ä–∫–æ–≤": [
        "–ß—Ç–æ —Ç–∞–∫–æ–µ –ù—ç—Ç–ø–∞—Ä–∫ (NetPark)?",
        "–†–∞–∑–±–∏—Ä–∞–µ–º—Å—è —Å —Ç—Ä–∞—Å—Å–∞–º–∏ Norway Park"
    ]
}

# üî∏ –û—Ç–≤–µ—Ç—ã
faq_answers = {
    "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –±–∏–ª–µ—Ç?": "üéü–í–°–ï —Ç—Ä–∞—Å—Å—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ —Ä–æ—Å—Ç—É, –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂, —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ.\n"
                            " –û–¥–Ω—É –∏ —Ç—É –∂–µ —Ç—Ä–∞—Å—Å—É –º–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.\n"
                            " –û—Ç–¥–µ–ª—å–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –ù—ç—Ç–ø–∞—Ä–∫- –≤–µ—Ä–µ–≤–æ—á–Ω—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç —Å —Å–µ—Ç—á–∞—Ç–æ–π —Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π, –ü—Ä—ã–∂–∫–∏ ( Quick Jump –∏ Skyfall) –∏ —Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –∑–∏–ø–ª–∞–π–Ω.",
    " –ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∫–∞?": "üïì –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –ê–¥—Ä–µ—Å–∞. –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∫–∞ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ norwaypark.ru  –≤ —Ä–∞–∑–¥–µ–ª–µ –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´",
    "–ù—É–∂–Ω–æ –ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è?": "üìÖ–ù–µ—Ç, –µ—Å–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è –º–µ–Ω—å—à–µ 10 —á–µ–ª–æ–≤–µ–∫. –ì—Ä—É–ø–ø–∞–º –æ—Ç 10 ‚Äî –∑–∞–ø–∏—Å—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: 8 800-100-60-48.",
    "–†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –ø–∞—Ä–∫–∏ –≤ –¥–æ–∂–¥—å? –£—Å–ª–æ–≤–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è": "üåß –î–∞. –ó–∞–∫—Ä—ã—Ç–∏–µ ‚Äî –ø—Ä–∏ –≥—Ä–æ–∑–µ –∏ –ø–æ—Ä—ã–≤–∞—Ö –≤–µ—Ç—Ä–∞ –æ—Ç15 –º/—Å.\n"
                                                    " –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ  –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∫–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–∞–π—Ç–µ norwaypark.ru  –≤ —Ä–∞–∑–¥–µ–ª–µ –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´",

    "–ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞—Ç—É –ø–æ—Å–µ—â–µ–Ω–∏—è?": "üîÑ –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞  info@norwaypark.ru —Å —Ñ–æ—Ç–æ –±–∏–ª–µ—Ç–∞ –∏ –Ω–æ–≤–æ–π –¥–∞—Ç–æ–π –∏–ª–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ, —á–µ–º –∑–∞ 24 —á–∞—Å–∞.",
    "–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å –±–∏–ª–µ—Ç?": "üí∏ –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞ info@norwaypark.ru –ø—Ä–∏—á–∏–Ω—É –≤–æ–∑–≤—Ä–∞—Ç–∞ + —Ñ–æ—Ç–æ –±–∏–ª–µ—Ç–∞, —á–µ–∫, —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –∑–∞—è–≤–ª–µ–Ω–∏–µ.\n"
                        " –í–æ–∑–≤—Ä–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –ø–æ –∑–∞—è–≤–∫–µ –º–∏–Ω–∏–º—É–º –∑–∞ —Å—É—Ç–∫–∏ –¥–æ –≤–∏–∑–∏—Ç–∞.",
    "–ù–∞–¥–æ –ª–∏ –ø–æ–∫—É–ø–∞—Ç—å –±–∏–ª–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–º—É, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–¥–µ—Ç –Ω–∞ —Ç—Ä–∞—Å—Å—É?": "üôÖ‚Äç‚ôÇÔ∏è –ù–µ—Ç, –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –Ω–µ –∏–¥–µ—Ç –Ω–∞ —Ç—Ä–∞—Å—Å—É ‚Äî –ø–ª–∞—Ç–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.",
    "–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –≤ –ø–∞—Ä–∫–µ?": "üí≥ –ö–∞—Ä—Ç–æ–π, –Ω–∞–ª–∏—á–Ω—ã–º–∏ –∏ –æ–Ω–ª–∞–π–Ω –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –Ω–∞ —Å–∞–π—Ç–µ.",

    "–ú–æ–∂–µ—Ç –ª–∏ –ø–æ–¥—Ä–æ—Å—Ç–æ–∫ –ø—Ä–∏–π—Ç–∏ –≤ –ø–∞—Ä–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ?": "–î–æ 18 –ª–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ —Å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–∑—Ä–æ—Å–ª—ã–º.\n"
    " –° 14  –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º –Ω–∞ —Ç—Ä–∞—Å—Å–µ, –Ω–æ –≤–∑—Ä–æ—Å–ª—ã–π –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–∞—Ä–∫–µ",
    "–ú–æ–∂–Ω–æ –ª–∏ –≤ –ø–∞—Ä–∫ —Å —Å–æ–±–∞–∫–æ–π?": "üê∂ –î–∞, –Ω–∞ –ø–æ–≤–æ–¥–∫–µ, —Å –Ω–∞–º–æ—Ä–¥–Ω–∏–∫–æ–º –∏ –ø–∞–∫–µ—Ç–∞–º–∏ –¥–ª—è —É–±–æ—Ä–∏.\n"
    " –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: NP –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫ ‚Äî –≤ —ç—Ç–æ–º –ø–∞—Ä–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Å —Å–æ–±–∞–∫–∞–º–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ª–µ—Å–æ–ø–∞—Ä–∫–∞, –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è.",
    "–ö—Ç–æ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Ç—Ä–∞—Å—Å—ã?": "üö´ –í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–ø—å—è–Ω–µ–Ω–∏—è, —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏, –±–µ–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂–∞, —Å —Ä—é–∫–∑–∞–∫–∞–º–∏, –±–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –≤–µ—Å–æ–º –±–æ–ª–µ–µ 100 –∫–≥.",
    "–ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤–µ—Å—É?": "‚öñ –û–±—ã—á–Ω–æ ‚Äî –¥–æ 100 –∫–≥. –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ç—Ä–∞—Å—Å.",
    "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–¥–µ—Ç—å—Å—è –≤ –≤–µ—Ä–µ–≤–æ—á–Ω—ã–π –ø–∞—Ä–∫?": "üëü –£–¥–æ–±–Ω–∞—è –æ–¥–µ–∂–¥–∞, –æ–±—É–≤—å —Å –∑–∞–∫—Ä—ã—Ç—ã–º –Ω–æ—Å–æ–º –∏ –∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—è—Ç–∫–æ–π.\n"
    " –ù–µ–ª—å–∑—è: —é–±–∫–∏, –ø–ª–∞—Ç—å—è, –∫–∞–±–ª—É–∫–∏, –∫—Ä–æ–∫—Å—ã. –î–ª–∏–Ω–Ω—ã–µ –≤–æ–ª–æ—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω—ã. ",

    "–ß—Ç–æ —Ç–∞–∫–æ–µ –ù—ç—Ç–ø–∞—Ä–∫ (NetPark)?": " –°–µ—Ç—á–∞—Ç—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ –Ω—É–∂–Ω–æ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ. –î–ª—è –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –æ—Ç 100 —Å–º –∏ –¥–æ 100 –∫–≥.\n"
    " –ë–∏–ª–µ—Ç—ã –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞ –≤ –≤–µ—Ä–µ–≤–æ—á–Ω—ã–π –ø–∞—Ä–∫.\n"
    " –ò—Å–∫–ª—é—á–µ–Ω–∏–µ - —Ç–∞—Ä–∏—Ñ –í–µ–∑–¥–µ—Ö–æ–¥. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∞—Ä–∏—Ñ–∞—Ö —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ norwaypark.ru ",
    "–†–∞–∑–±–∏—Ä–∞–µ–º—Å—è —Å —Ç—Ä–∞—Å—Å–∞–º–∏ Norway Park": "–í–µ—Ä–µ–≤–æ—á–Ω—ã–µ —Ç—Ä–∞—Å—Å—ã –¥–µ–ª—è—Ç—Å—è –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º —Ä–æ—Å—Ç–æ–º, –Ω–æ —Å—Ç—Ä–æ–≥–æ –¥–æ 100 –∫–≥.\n"
    "–û—Ç 80 —Å–º - –ë–µ–ª–∞—è —Ç—Ä–∞—Å—Å–∞\n"
    "–û—Ç 110 —Å–º - –ë–µ–ª–∞—è –∏ –ñ–µ–ª—Ç–∞—è —Ç—Ä–∞—Å—Å—ã, —Å–∫–∞–ª–æ–¥—Ä–æ–º\n"
    "–û—Ç 120 —Å–º - –ë–µ–ª–∞—è, –ñ–µ–ª—Ç–∞—è, –ó–µ–ª–µ–Ω–∞—è —Ç—Ä–∞—Å—Å—ã\n"
    "–û—Ç 140 —Å–º - –ñ–µ–ª—Ç–∞—è, –ó–µ–ª–µ–Ω–∞—è, –°–∏–Ω—è—è, –ö—Ä–∞—Å–Ω–∞—è —Ç—Ä–∞—Å—Å—ã\n"
    "–û—Ç 160 —Å–º - –ó–µ–ª–µ–Ω–∞—è, –°–∏–Ω—è—è, –ö—Ä–∞—Å–Ω–∞—è, –ß–µ—Ä–Ω–∞—è —Ç—Ä–∞—Å—Å—ã\n\n"
    "–ë–µ–ª–∞—è –∏ –ñ–µ–ª—Ç–∞—è —Ç—Ä–∞—Å—Å—ã —Å–∞–º—ã–µ –ø—Ä–æ—Å—Ç—ã–µ,  –ó–µ–ª–µ–Ω–∞—è —É–∂–µ –ø–æ—Å–µ—Ä—å–µ–∑–Ω–µ–µ, –Ω–æ –≤–ø–æ–ª–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞ –¥–ª—è –ª—é–¥–µ–π –±–µ–∑ —Ö–æ—Ä–æ—à–µ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.\n"
    "–°–∏–Ω—è—è –∏ –ö—Ä–∞—Å–Ω–∞—è —Ç—Ä–∞—Å—Å—ã - –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –∞ –ß–µ—Ä–Ω–∞—è -  —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è.\n\n"
    "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ —Ç—Ä–∞—Å—Å—ã –µ—Å—Ç—å –≤ —Ç–æ–º –ø–∞—Ä–∫–µ, –∫—É–¥–∞ –≤—ã —Å–æ–±—Ä–∞–ª–∏—Å—å, –º–æ–∂–Ω–æ  –Ω–∞ —Å–∞–π—Ç–µ norwaypark.ru  –≤ —Ä–∞–∑–¥–µ–ª–µ –û –ü–ê–†–ö–ï, –∞ —Ç–∞–∫–∂–µ –Ω–∞ –ö–ê–†–¢–ï –ü–ê–†–ö–ê"
}

# üî∏ FAQ ‚Üí –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã"
def get_faq_handler():
    return MessageHandler(filters.Regex("^‚ùì –î—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã$"), show_faq_folders)

async def show_faq_folders(update: Update, context: ContextTypes.DEFAULT_TYPE):
    buttons = [[name] for name in faq_categories.keys()] + [["üîô –ù–∞–∑–∞–¥"]]
    reply_markup = ReplyKeyboardMarkup(buttons, resize_keyboard=True)
    context.user_data["last_menu"] = "main_menu"
    await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤–æ–ø—Ä–æ—Å–∞:", reply_markup=reply_markup)

# üî∏ –ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –í–æ–ø—Ä–æ—Å—ã
def get_faq_category_handler():
    return MessageHandler(
        filters.TEXT & filters.Regex(f"^({'|'.join(re.escape(cat) for cat in faq_categories.keys())})$"),
        show_questions
    )

async def show_questions(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text
    questions = faq_categories.get(text)
    if not questions:
        return

    buttons = [[q] for q in questions] + [["üîô –ù–∞–∑–∞–¥", "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"]]
    reply_markup = ReplyKeyboardMarkup(buttons, resize_keyboard=True)
    context.user_data["last_menu"] = "faq_category"
    context.user_data["faq_category"] = text
    await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:", reply_markup=reply_markup)

# üî∏ –í–æ–ø—Ä–æ—Å ‚Üí –û—Ç–≤–µ—Ç
def get_faq_answer_handler():
    return MessageHandler(
        filters.TEXT & filters.Regex(f"^({'|'.join(re.escape(q) for q in faq_answers.keys())})$"),
        send_faq_answer
    )

async def send_faq_answer(update: Update, context: ContextTypes.DEFAULT_TYPE):
    question = update.message.text
    answer = faq_answers.get(question)
    if not answer:
        return

    buttons = [["üîô –ù–∞–∑–∞–¥", "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"]]
    reply_markup = ReplyKeyboardMarkup(buttons, resize_keyboard=True)
    context.user_data["last_menu"] = "faq_answer"
    await update.message.reply_text(answer, reply_markup=reply_markup)
